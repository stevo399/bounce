<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Bouncing Ball Universe - Incremental Game</title>
	<link rel="stylesheet" href="style.css" />
</head>
<body>
	<div class="container">
		<header>
			<h1>Bouncing Ball Universe</h1>
			<p>From a single bouncy ball to universal domination! Build rubber supply chains and colonize the cosmos.</p>
		</header>

		<div class="stats-panel" role="region" aria-label="Game Statistics and Manual Controls">
			<div class="stat-item">
				<span class="stat-label">Bouncy Balls:</span>
				<span class="stat-value" id="ball-count">0</span>
			</div>
			<div class="stat-item" id="stat-bps" style="display: none;">
				<span class="stat-label">Balls per Second:</span>
				<span class="stat-value" id="bps-display">0</span>
			</div>
			<div class="stat-item" id="stat-rubber" style="display: none;">
				<span class="stat-label">Rubber:</span>
				<span class="stat-value" id="rubber-count">0</span>
			</div>
			<div class="stat-item" id="stat-rps" style="display: none;">
				<span class="stat-label">Rubber per Second:</span>
				<span class="stat-value" id="rps-display">0</span>
			</div>
			<div class="stat-item" id="stat-planets" style="display: none;">
				<span class="stat-label">Total Planets:</span>
				<span class="stat-value" id="planet-count">1</span>
			</div>
			<div class="stat-item" id="next-stage" style="display: none;">
				<span class="stat-label">Next Stage:</span>
				<span class="stat-value" id="next-stage-text"></span>
			</div>
			<div style="margin-top: 15px;">
				<button class="btn" id="collect-btn" aria-label="Bounce to collect balls manually">
					ðŸŽ¾ Bounce! (Collect Balls)
				</button>
				<p style="color: var(--color-text-secondary); margin-top: 10px; font-size: 0.9rem;">
					Click or press Space/Enter to manually collect balls. Manual bouncing works even without rubber!
				</p>
				<button class="btn btn-small" id="reset-btn" style="margin-top: 15px; background: var(--color-danger);" aria-label="Reset all game progress">Reset Game</button>
				<div style="margin-top: 10px;">
					<button class="btn btn-small" id="export-save-btn" aria-label="Export save data">Export Save</button>
					<button class="btn btn-small" id="import-save-btn" aria-label="Import save data">Import Save</button>
				</div>
				<div id="save-transfer" style="display: none; margin-top: 10px;">
					<label for="save-transfer-text" style="display: block; font-weight: 600; color: var(--color-text-secondary); margin-bottom: 6px;">Save Data</label>
					<textarea id="save-transfer-text" rows="4" style="width: 100%; padding: 8px 10px; background: var(--color-bg-tertiary); color: var(--color-text-primary); border: 2px solid var(--color-border); border-radius: 6px; resize: vertical;"></textarea>
					<div style="display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap;">
						<button class="btn btn-small" id="confirm-import-btn">Confirm Import</button>
						<button class="btn btn-small" id="hide-transfer-btn" style="background: var(--color-bg-tertiary); color: var(--color-text-primary);">Hide</button>
					</div>
				</div>
			</div>
		</div>

		<div id="planet-selector" class="section" style="display: none;">
			<label for="planet-select" style="font-weight: 600; color: var(--color-accent); font-size: 1.1rem;">Build on Planet:</label>
			<select id="planet-select" aria-label="Select planet to build on" style="display: block; width: 100%; margin-top: 10px; padding: 10px 15px; font-size: 1rem; background: var(--color-bg-tertiary); color: var(--color-text-primary); border: 2px solid var(--color-border); border-radius: 6px; cursor: pointer;"></select>
		</div>

		<div id="rubber-panel" class="section" style="display: none;">
			<h2>Rubber Supply Chain</h2>
			<p style="color: var(--color-text-secondary); margin-bottom: 15px;">
				Build a complete rubber production pipeline. Automated ball production requires rubber!
			</p>
			<div class="buy-toggle" role="radiogroup" aria-label="Buy amount">
				<button class="buy-toggle-btn active" data-amount="1" aria-pressed="true" aria-label="Buy 1 at a time">x1</button>
				<button class="buy-toggle-btn" data-amount="10" aria-pressed="false" aria-label="Buy 10 at a time">x10</button>
				<button class="buy-toggle-btn" data-amount="max" aria-pressed="false" aria-label="Buy maximum affordable">Max</button>
			</div>

			<div class="supply-chain" id="supply-chain-display"></div>

			<div id="rubber-status-message"></div>
			<div id="sell-rubber-container" style="display: none; margin-bottom: 15px;">
				<button class="btn btn-small" id="sell-rubber-btn" aria-label="Sell all rubber on this planet for 5 balls each">Sell Rubber (5 balls each)</button>
			</div>

			<div id="rubber-buildings-container"></div>
		</div>

		<div id="production-panel" class="section" style="display: none;">
			<h2>Ball Production Buildings</h2>
			<p style="color: var(--color-text-secondary); margin-bottom: 15px;">
				Automated ball factories consume rubber to produce balls. Make sure you have enough rubber production!
			</p>
			<div id="production-status"></div>
			<div id="ball-buildings-container"></div>
		</div>

		<div id="upgrades-panel" class="section" style="display: none;">
			<h2>Upgrades</h2>
			<p style="color: var(--color-text-secondary); margin-bottom: 15px;">
				Permanent upgrades that multiply your production!
			</p>
			<div class="upgrade-tabs" id="upgrade-tabs" role="tablist" aria-label="Upgrade categories"></div>
			<div id="upgrades-container"></div>
		</div>

		<div id="planets-panel" class="section" style="display: none;">
			<h2>Planets & Universal Expansion</h2>
			<p style="color: var(--color-text-secondary); margin-bottom: 15px;">
				Launch Von Neumann probes to colonize new planets. Specialize planets as Rubber Worlds or Ball Worlds!
			</p>
			<div id="planets-container"></div>
		</div>

		<div id="logistics-panel" class="section" style="display: none;">
			<h2>Logistics & Automation</h2>
			<p style="color: var(--color-text-secondary); margin-bottom: 15px;">
				Shipping probes move rubber between planets. Construction probes auto-build infrastructure.
			</p>
			<div id="logistics-container"></div>
		</div>

		<div id="cosmic-panel" class="section" style="display: none;">
			<h2>Celestial Bodies</h2>
			<p style="color: var(--color-text-secondary); margin-bottom: 15px;">
				Your balls are coalescing into ever-larger celestial bodies...
			</p>
			<div id="cosmic-container"></div>
		</div>

		<div id="prestige-panel" class="section" style="display: none;">
			<h2>Singularity</h2>
			<p style="color: var(--color-text-secondary); margin-bottom: 15px;">
				Collapse the universe and earn Singularity Points to become even more powerful.
			</p>
			<div id="prestige-container"></div>
		</div>

		<div id="achievements-panel" class="section" style="display: none;">
			<h2>Achievements</h2>
			<div class="upgrade-tabs" id="achievement-tabs" role="tablist" aria-label="Achievement filters"></div>
			<div id="achievements-container"></div>
		</div>

		<div id="victory-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 2000; justify-content: center; align-items: center;">
			<div style="background: var(--color-bg-secondary); border: 3px solid var(--color-accent); border-radius: 16px; padding: 40px; max-width: 600px; text-align: center;">
				<h1 style="color: var(--color-accent); margin-bottom: 20px;">Colossal Singularity</h1>
				<p style="color: var(--color-text-primary); font-size: 1.2rem; margin-bottom: 20px;">All singularities have merged. The universe is reborn.</p>
				<div id="victory-stats" style="text-align: left; margin-bottom: 20px; color: var(--color-text-secondary);"></div>
				<button class="btn" id="sandbox-btn">Continue in Sandbox Mode</button>
			</div>
		</div>

		<div id="toast-container" role="log" aria-live="polite" aria-label="Notifications"></div>
		<div class="visually-hidden" role="status" aria-live="polite" aria-atomic="true" id="polite-announcements"></div>
		<div class="visually-hidden" role="alert" aria-live="assertive" aria-atomic="true" id="assertive-announcements"></div>
	</div>

	<script src="game.js"></script>
</body>
</html>
